(function(t){var n={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},e=n[typeof window]&&window||this,r=n[typeof exports]&&exports&&!exports.nodeType&&exports,o=n[typeof module]&&module&&!module.nodeType&&module,i=(o&&o.exports===r&&r,n[typeof global]&&global);!i||i.global!==i&&i.window!==i||(e=i),"function"==typeof define&&define.amd?define(["rx.binding","exports"],function(n,r){return e.Rx=t(e,r,n),e.Rx}):"object"==typeof module&&module&&module.exports===r?module.exports=t(e,module.exports,require("./rx")):e.Rx=t(e,{},e.Rx)}).call(this,function(t,n,e){function r(t,n,e){return t.addListener?(t.addListener(n,e),a(function(){t.removeListener(n,e)})):t.addEventListener?(t.addEventListener(n,e,!1),a(function(){t.removeEventListener(n,e,!1)})):undefined}function o(t,n,e){var i=new f;if(t&&t.length)for(var s=0,u=t.length;u>s;s++)i.add(o(t[s],n,e));else t&&i.add(r(t,n,e));return i}var i=e.Observable,s=i.prototype,u=e.Internals.AnonymousObservable,c=e.AsyncSubject,a=e.Disposable.create,f=e.CompositeDisposable,l=e.Scheduler.immediate,h=Array.prototype.slice;i.start=function(t,n,e){return p(t,n,e)()};var p=i.toAsync=function(t,n,e){return n||(n=timeoutScheduler),function(){var r=arguments,o=new c;return n.schedule(function(){var n;try{n=t.apply(e,r)}catch(i){return o.onError(i),undefined}o.onNext(n),o.onCompleted()}),o.asObservable()}};return i.fromCallback=function(t,n,e,r){return n||(n=l),function(){var o=h.call(arguments,0);return new u(function(i){return n.schedule(function(){function n(t){var n=t;if(r)try{n=r(arguments)}catch(e){return i.onError(e),undefined}else 1===n.length&&(n=n[0]);i.onNext(n),i.onCompleted()}o.push(n),t.apply(e,o)})})}},i.fromNodeCallback=function(t,n,e,r){return n||(n=l),function(){var o=h.call(arguments,0);return new u(function(i){return n.schedule(function(){function n(t){if(t)return i.onError(t),undefined;var n=h.call(arguments,1);if(r)try{n=r(n)}catch(e){return i.onError(e),undefined}else 1===n.length&&(n=n[0]);i.onNext(n),i.onCompleted()}o.push(n),t.apply(e,o)})})}},i.fromEvent=function(t,n,e){return new u(function(r){return o(t,n,function(t){var n=t;if(e)try{n=e(arguments)}catch(o){return r.onError(o),undefined}r.onNext(n)})}).publish().refCount()},i.fromEventPattern=function(t,n,e){return new u(function(r){function o(t){var n=t;if(e)try{n=e(arguments)}catch(o){return r.onError(o),undefined}r.onNext(n)}var i=t(o);return a(function(){n&&n(o,i)})}).publish().refCount()},i.fromPromise=function(t){return new u(function(n){t.then(function(t){n.onNext(t),n.onCompleted()},function(t){n.onError(t)})})},s.toPromise=function(t){if(t||(t=e.config.Promise),!t)throw Error("Promise type not provided nor in Rx.config.Promise");var n=this;return new t(function(t,e){var r,o=!1;n.subscribe(function(t){r=t,o=!0},function(t){e(t)},function(){o&&t(r)})})},e});