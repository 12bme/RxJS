/* Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.*/
(function(a){var b={"function":!0,object:!0},c=b[typeof exports]&&exports&&!exports.nodeType&&exports,d=b[typeof self]&&self.Object&&self,e=b[typeof window]&&window&&window.Object&&window,f=b[typeof module]&&module&&!module.nodeType&&module,g=(f&&f.exports===c&&c,c&&f&&"object"==typeof global&&global&&global.Object&&global),h=h=g||e!==(this&&this.window)&&e||d||this;"function"==typeof define&&define.amd?define(["rx-lite"],function(b,c){return a(h,c,b)}):"object"==typeof module&&module&&module.exports===c?module.exports=a(h,module.exports,require("rx-lite")):h.Rx=a(h,{},h.Rx)}).call(this,function(a,b,c,d){function e(a){return a?j.isObservable(a)?a:isArrayLike(result)||isIterable(result)?f.call(this,a):o(a)?j.fromPromise(a):i(a)||h(a)?q.call(this,a):p(a)?g.call(this,a):a:a}function f(a){return j.from(a).map(e,this).toArray()}function g(a){var b=this;return new m(function(c){a.call(b,function(){var a=arguments[0],b=arguments[1];if(a)return c.onError(a);if(arguments.length>2){for(var d=[],e=1,f=arguments.length;f>e;e++)d.push(arguments[e]);b=d}c.onNext(b),c.onCompleted()})})}function h(a){return p(a.next)&&p(a["throw"])}function i(a){var b=a.constructor;return b?"GeneratorFunction"===b.name||"GeneratorFunction"===b.displayName?!0:h(b.prototype):!1}var j=c.Observable,k=(j.prototype,j.fromPromise),l=j.throwError,m=c.AnonymousObservable,n=(c.AsyncSubject,c.Disposable.create,c.CompositeDisposable),o=(c.Scheduler.immediate,c.Scheduler["default"],c.Scheduler.isScheduler,c.helpers.isPromise),p=c.helpers.isFunction,q=j.spawn=function(){for(var a=arguments[0],b=this,c=[],d=1,f=arguments.length;f>d;d++)c.push(arguments[d]);return new m(function(d){function f(b){var c=tryCatch(a.next).call(a,b);return c===errorObj?d.onError(c.e):void h(c)}function g(b){var c=tryCatch(a.next).call(a,b);return c===errorObj?d.onError(c.e):void h(c)}function h(a){a.done&&(d.onNext(a.value),d.onCompleted());var c=e.call(b,a.value);j.isObservable(c)?i.add(c.subscribe(f,g)):g(new TypeError("type not supported"))}var i=new n;return p(a)&&(a=a.apply(b,c)),a&&p(a.next)?(f(),i):(d.onNext(a),d.onCompleted())})};return j.start=function(a,b,c){return observableToAsync(a,b,c)()},j.startAsync=function(a){var b;try{b=a()}catch(c){return l(c)}return k(b)},c});
//# sourceMappingURL=rx.lite.async.map