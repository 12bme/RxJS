{"version":3,"file":"rx.lite.virtualtime.min.js","sources":["rx.lite.virtualtime.js"],"names":["factory","objectTypes","function","object","freeExports","exports","nodeType","freeSelf","self","Object","freeWindow","window","freeModule","module","freeGlobal","global","root","this","define","amd","Rx","require","call","exp","undefined","IndexedItem","id","value","Scheduler","PriorityQueue","internals","ScheduledItem","SchedulePeriodicRecursive","disposableEmpty","Disposable","empty","inherits","defaultSubComparer","helpers","notImplemented","prototype","compareTo","other","c","capacity","items","Array","length","priorityProto","isHigherPriority","left","right","percolate","index","parent","temp","heapify","first","peek","removeAt","dequeue","result","enqueue","item","count","remove","i","VirtualTimeScheduler","__super__","localNow","toDateTimeOffset","clock","scheduleNow","state","action","scheduleAbsoluteWithState","scheduleRelative","dueTime","scheduleRelativeWithState","toRelative","scheduleAbsolute","now","invokeAction","scheduler","initialClock","comparer","isEnabled","queue","VirtualTimeSchedulerPrototype","add","schedulePeriodicWithState","period","s","start","runAt","next","getNext","invoke","stop","advanceTo","time","dueToClock","ArgumentOutOfRangeError","advanceBy","dt","sleep","isCancelled","run","state1","si","disposable","HistoricalScheduler","cmp","HistoricalSchedulerProto","absolute","relative","Date","getTime","timeSpan"],"mappings":"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"}