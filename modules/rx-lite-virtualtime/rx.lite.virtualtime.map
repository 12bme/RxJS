{"version":3,"file":"rx.lite.virtualtime.min.js","sources":["rx.lite.virtualtime.js"],"names":["factory","objectTypes","boolean","function","object","number","string","undefined","root","window","this","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","define","amd","Rx","require","call","exp","IndexedItem","id","value","Scheduler","PriorityQueue","internals","ScheduledItem","SchedulePeriodicRecursive","disposableEmpty","Disposable","empty","inherits","defaultSubComparer","helpers","notImplemented","prototype","compareTo","other","c","capacity","items","Array","length","priorityProto","isHigherPriority","left","right","percolate","index","parent","temp","heapify","first","peek","removeAt","dequeue","result","enqueue","item","count","remove","i","VirtualTimeScheduler","__super__","localNow","toDateTimeOffset","clock","scheduleNow","state","action","scheduleAbsoluteWithState","scheduleRelative","dueTime","scheduleRelativeWithState","toRelative","scheduleAbsolute","now","invokeAction","scheduler","initialClock","comparer","isEnabled","queue","VirtualTimeSchedulerPrototype","add","schedulePeriodicWithState","period","s","start","runAt","next","getNext","invoke","stop","advanceTo","time","dueToClock","ArgumentOutOfRangeError","advanceBy","dt","sleep","isCancelled","run","state1","self","si","disposable","HistoricalScheduler","cmp","HistoricalSchedulerProto","absolute","relative","Date","getTime","timeSpan"],"mappings":"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"}