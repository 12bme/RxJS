{"version":3,"file":"rx.lite.virtualtime.min.js","sources":["rx.lite.virtualtime.js"],"names":["factory","objectTypes","function","object","freeExports","exports","nodeType","freeSelf","self","Object","freeWindow","window","freeModule","module","freeGlobal","global","root","this","define","amd","Rx","require","call","exp","undefined","IndexedItem","id","value","Scheduler","ScheduledItem","internals","SchedulePeriodicRecursive","inherits","Disposable","empty","defaultSubComparer","helpers","notImplemented","prototype","compareTo","other","c","PriorityQueue","capacity","items","Array","length","priorityProto","isHigherPriority","left","right","percolate","index","parent","temp","heapify","first","peek","removeAt","dequeue","result","enqueue","item","count","remove","i","VirtualTimeScheduler","__super__","localNow","toAbsoluteTime","clock","scheduleNow","state","action","scheduleAbsolute","scheduleRelative","dueTime","toRelativeTime","now","initialClock","comparer","isEnabled","queue","VirtualTimeSchedulerPrototype","add","schedulePeriodicWithState","period","s","start","runAt","next","getNext","invoke","stop","advanceTo","time","dueToClock","ArgumentOutOfRangeError","advanceBy","dt","sleep","isCancelled","run","scheduler","state1","si","disposable","HistoricalScheduler","cmp","HistoricalSchedulerProto","absolute","relative","Date","getTime","timeSpan"],"mappings":"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"}