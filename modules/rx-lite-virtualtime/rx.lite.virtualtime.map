{"version":3,"file":"rx.lite.virtualtime.min.js","sources":["rx.lite.virtualtime.js"],"names":["factory","objectTypes","function","object","freeExports","exports","nodeType","freeSelf","self","Object","freeWindow","window","freeModule","module","freeGlobal","global","root","this","define","amd","Rx","require","call","exp","undefined","IndexedItem","id","value","Scheduler","ScheduledItem","internals","SchedulePeriodicRecursive","inherits","defaultSubComparer","helpers","notImplemented","prototype","compareTo","other","c","PriorityQueue","capacity","items","Array","length","priorityProto","isHigherPriority","left","right","percolate","index","parent","temp","heapify","first","peek","removeAt","dequeue","result","enqueue","item","count","remove","i","VirtualTimeScheduler","__super__","initialClock","comparer","clock","isEnabled","queue","VirtualTimeSchedulerPrototype","now","toAbsoluteTime","schedule","state","action","scheduleAbsolute","scheduleFuture","dueTime","dt","Date","toRelativeTime","scheduleRelative","add","schedulePeriodic","period","s","start","runAt","next","getNext","invoke","stop","advanceTo","time","dueToClock","ArgumentOutOfRangeError","advanceBy","sleep","isCancelled","run","scheduler","state1","si","disposable","HistoricalScheduler","cmp","HistoricalSchedulerProto","absolute","relative","getTime","timeSpan"],"mappings":"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"}