{"version":3,"file":"rx.lite.virtualtime.compat.min.js","sources":["rx.lite.virtualtime.compat.js"],"names":["factory","objectTypes","function","object","freeExports","exports","nodeType","freeSelf","self","Object","freeWindow","window","freeModule","module","freeGlobal","global","root","this","define","amd","Rx","require","call","exp","undefined","IndexedItem","id","value","prototype","compareTo","other","c","PriorityQueue","internals","capacity","items","Array","length","priorityProto","isHigherPriority","left","right","percolate","index","parent","temp","heapify","first","peek","removeAt","dequeue","result","enqueue","item","count","remove","i","Scheduler","ScheduledItem","SchedulePeriodicRecursive","inherits","Disposable","empty","defaultSubComparer","helpers","notImplemented","VirtualTimeScheduler","__super__","initialClock","comparer","clock","isEnabled","queue","VirtualTimeSchedulerPrototype","now","toAbsoluteTime","schedule","state","action","scheduleAbsolute","scheduleFuture","dueTime","dt","Date","toRelativeTime","scheduleRelative","add","schedulePeriodicWithState","period","s","start","runAt","next","getNext","invoke","stop","advanceTo","time","dueToClock","ArgumentOutOfRangeError","advanceBy","sleep","isCancelled","run","scheduler","state1","si","disposable","HistoricalScheduler","cmp","HistoricalSchedulerProto","absolute","relative","getTime","timeSpan"],"mappings":"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"}